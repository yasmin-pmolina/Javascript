/**
 * @license Copyright (c) 2013, CKSource - Frederico Knabben
 * For licensing, see LICENSE
 */

"use strict";

var fs = require("fs"),
    FileConfiguration = require(__dirname + "/../MessageConfiguration/File"),
    File, // constructor, function
    Stream = require(__dirname + "/../Stream");

/**
 * @auguments Bender/HttpServer/Stream
 * @constructor
 * @param {string} filename
 */
File = function (filename) {
    var fileReadStream;

    Stream.call(this, new FileConfiguration(filename));

    fileReadStream = fs.createReadStream(filename, {
        encoding: this.options.encoding
    });

    this.wrap(fileReadStream);
};
File.prototype = Object.create(Stream.prototype);

module.exports = File;
